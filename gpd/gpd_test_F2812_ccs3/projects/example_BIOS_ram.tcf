utils.loadPlatform("ti.platforms.ezdsp2812");

/* The following DSP/BIOS Features are enabled.  */
bios.enableMemoryHeaps(prog);
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.MEM.instance("LSARAM").len = 0x1000;
bios.MEM.create("L1SARAM");
bios.MEM.instance("L1SARAM").createHeap = 0;
bios.MEM.instance("L1SARAM").base = 0x009000;
bios.MEM.instance("L1SARAM").len = 0x1000;
bios.MEM.ARGSSEG = prog.get("L1SARAM");
bios.MEM.SYSDATASEG = prog.get("L1SARAM");
bios.MEM.OBJSEG = prog.get("L1SARAM");
bios.MEM.BSSSEG = prog.get("L1SARAM");
bios.MEM.EBSSSEG = prog.get("L1SARAM");
bios.MEM.ECONSTSEG = prog.get("L1SARAM");
bios.MEM.CONSTSEG = prog.get("L1SARAM");
bios.MEM.DATASEG = prog.get("L1SARAM");
bios.MEM.CIOSEG = prog.get("L1SARAM");
bios.BUF.OBJMEMSEG = prog.get("L1SARAM");
bios.SYS.TRACESEG = prog.get("L1SARAM");
bios.GBL.CLKIN = 30000;
bios.LOG.OBJMEMSEG = prog.get("L1SARAM");
bios.LOG.instance("LOG_system").bufSeg = prog.get("L1SARAM");
bios.STS.OBJMEMSEG = prog.get("L1SARAM");
bios.CLK.OBJMEMSEG = prog.get("L1SARAM");
bios.PRD.OBJMEMSEG = prog.get("L1SARAM");
bios.SWI.OBJMEMSEG = prog.get("L1SARAM");
bios.TSK.OBJMEMSEG = prog.get("L1SARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("L1SARAM");
bios.IDL.OBJMEMSEG = prog.get("L1SARAM");
bios.SEM.OBJMEMSEG = prog.get("L1SARAM");
bios.MBX.OBJMEMSEG = prog.get("L1SARAM");
bios.QUE.OBJMEMSEG = prog.get("L1SARAM");
bios.LCK.OBJMEMSEG = prog.get("L1SARAM");
bios.DIO.OBJMEMSEG = prog.get("L1SARAM");
bios.DHL.OBJMEMSEG = prog.get("L1SARAM");
bios.RTDX.RTDXDATASEG = prog.get("L1SARAM");
bios.HST.OBJMEMSEG = prog.get("L1SARAM");
bios.HST.instance("RTA_fromHost").bufSeg = prog.get("L1SARAM");
bios.HST.instance("RTA_toHost").bufSeg = prog.get("L1SARAM");
bios.PIP.OBJMEMSEG = prog.get("L1SARAM");
bios.SIO.OBJMEMSEG = prog.get("L1SARAM");

// Commands added manually
bios.MEM.SYSMEMSEG = prog.get("L1SARAM");
bios.RTDX.TEXTMEMSEG = prog.get("L1SARAM");
// End of manual block

bios.MEM.instance("L1SARAM").createHeap = 1;
bios.MEM.BIOSOBJSEG = prog.get("L1SARAM");
bios.MEM.MALLOCSEG = prog.get("L1SARAM");
bios.MEM.ENABLELOADADDR = 1;
bios.MEM.LOADECONSTSEG = prog.get("L1SARAM");
bios.MEM.LOADCONSTSEG = prog.get("L1SARAM");
bios.MEM.LOADDATASEG = prog.get("L1SARAM");
bios.MEM.instance("LSARAM").destroy();
bios.MEM.create("L0SARAM");
bios.MEM.instance("L0SARAM").createHeap = 0;
bios.MEM.instance("L0SARAM").comment = "On-Chip RAM Memory";
bios.MEM.instance("L0SARAM").len = 0x1000;
bios.MEM.instance("L0SARAM").base = 0x008000;
bios.MEM.ENABLELOADADDR = 0;
bios.GBL.CALLUSERINITFXN = 1;
bios.GBL.USERINITFXN = prog.extern("UserInit");
bios.MEM.instance("MSARAM").len = 0x0400;
bios.MEM.create("M1SARAM");
bios.MEM.instance("M1SARAM").base = 0x000400;
bios.MEM.instance("M1SARAM").len = 0x0400;
bios.MEM.instance("M1SARAM").createHeap = 0;
bios.MEM.STACKSEG = prog.get("M1SARAM");
bios.MEM.instance("MSARAM").destroy();
bios.MEM.create("M0SARAM");
bios.MEM.instance("M0SARAM").createHeap = 0;
bios.MEM.instance("M0SARAM").comment = "On-Chip RAM Memory";
bios.MEM.instance("M0SARAM").len = 0x0400;
bios.MEM.instance("M1SARAM").comment = "On-Chip RAM Memory";
bios.MEM.instance("L1SARAM").comment = "On-Chip RAM Memory";
bios.MEM.instance("OTP").comment = "1K X 16 OTP memory";
bios.MEM.instance("H0SARAM").base = 0x3f8002;
bios.MEM.instance("H0SARAM").len = 0x1ffe;
bios.MEM.instance("SRAM").destroy();
bios.MEM.create("ZONE1");
bios.MEM.create("ZONE2");
bios.MEM.create("ZONE6");
bios.MEM.instance("ZONE1").comment = "External";
bios.MEM.instance("ZONE1").base = 0x004000;
bios.MEM.instance("ZONE1").len = 0x2000;
bios.MEM.instance("ZONE1").createHeap = 0;
bios.MEM.instance("ZONE2").comment = "External";
bios.MEM.instance("ZONE2").base = 0x080000;
bios.MEM.instance("ZONE2").len = 0x80000;
bios.MEM.instance("ZONE2").createHeap = 0;
bios.MEM.instance("ZONE6").comment = "External";
bios.MEM.instance("ZONE6").base = 0x100000;
bios.MEM.instance("ZONE6").len = 0x80000;
bios.MEM.instance("ZONE6").createHeap = 0;
bios.MEM.create("PASSWORDS");
bios.MEM.instance("PASSWORDS").comment = "CSM Passwords in Flash";
bios.MEM.instance("PASSWORDS").base = 0x3f7ff8;
bios.MEM.instance("PASSWORDS").len = 0x0008;
bios.MEM.instance("PASSWORDS").createHeap = 0;
bios.MEM.instance("PASSWORDS").space = "code";
bios.MEM.create("BEGIN_H0");
bios.MEM.instance("BEGIN_H0").base = 0x3f8000;
bios.MEM.instance("BEGIN_H0").len = 0x0002;
bios.MEM.instance("BEGIN_H0").createHeap = 0;
bios.MEM.instance("BEGIN_H0").space = "code";
bios.MEM.instance("BEGIN_H0").comment = "Boot to H0 Entry Point";
bios.MEM.create("BEGIN_FLASH");
bios.MEM.instance("BEGIN_FLASH").base = 0x3f7ff6;
bios.MEM.instance("BEGIN_FLASH").len = 0x0002;
bios.MEM.instance("BEGIN_FLASH").createHeap = 0;
bios.MEM.instance("BEGIN_FLASH").space = "code";
bios.MEM.instance("BEGIN_FLASH").comment = "Boot to Flash Entry Point";
bios.MEM.instance("FLASH").destroy();
bios.MEM.create("FLASH_A");
bios.MEM.instance("FLASH_A").base = 0x3f6000;
bios.MEM.instance("FLASH_A").len = 0x1f80;
bios.MEM.instance("FLASH_A").createHeap = 0;
bios.MEM.instance("FLASH_A").comment = "On-Chip Flash Memory";
bios.MEM.instance("FLASH_A").space = "code";
bios.MEM.create("FLASH_BCDEFGHIJ");
bios.MEM.instance("FLASH_BCDEFGHIJ").base = 0x3d8000;
bios.MEM.instance("FLASH_BCDEFGHIJ").len = 0x1e000;
bios.MEM.instance("FLASH_BCDEFGHIJ").createHeap = 0;
bios.MEM.instance("FLASH_BCDEFGHIJ").space = "code";
bios.MEM.instance("FLASH_BCDEFGHIJ").comment = "On-Chip Flash Memory";
bios.MEM.create("CSM_RSVD");
bios.MEM.instance("CSM_RSVD").comment = "Reserved by CSM";
bios.MEM.instance("CSM_RSVD").base = 0x3f7f80;
bios.MEM.instance("CSM_RSVD").len = 0x0076;
bios.MEM.instance("CSM_RSVD").createHeap = 0;
bios.MEM.instance("CSM_RSVD").space = "code";
bios.PRD.create("LedBlink_PRD");
bios.PRD.instance("LedBlink_PRD").order = 1;
bios.PRD.instance("LedBlink_PRD").period = 250;
bios.PRD.instance("LedBlink_PRD").fxn = prog.extern("LedBlink");
bios.HWI.instance("HWI_RESET").fxn = prog.extern("HWI_unused", "asm");
bios.SWI.create("ADC_swi");
bios.SWI.instance("ADC_swi").order = 1;
bios.SWI.instance("ADC_swi").fxn = prog.extern("AdcSwi");
bios.SWI.instance("ADC_swi").priority = 2;
bios.TSK.STACKSIZE = 128;
bios.TSK.STACKSEG = prog.get("L1SARAM");
bios.TSK.instance("TSK_idle").stackSize = 128;
bios.PIE.instance("PIE_INT1_6").fxn = prog.extern("ADCINT_ISR");
bios.PIE.instance("PIE_INT1_6").useDispatcher = 1;
bios.PIE.instance("PIE_INT3_5").fxn = prog.extern("CAPINT1_ISR");
bios.PIE.instance("PIE_INT3_5").useDispatcher = 1;
bios.LOG.create("trace");
bios.LOG.instance("trace").bufSeg = prog.get("M0SARAM");
bios.LOG.instance("LOG_system").bufLen = 128;
bios.MEM.TRCDATASEG = prog.get("L1SARAM");
bios.MEM.DATASEG = prog.get("M0SARAM");
bios.MEM.CIOSEG = prog.get("M0SARAM");
bios.MEM.ENABLELOADADDR = 1;
bios.MEM.LOADTRCDATASEG = prog.get("L0SARAM");
bios.MEM.LOADDATASEG = prog.get("M0SARAM");
bios.MEM.LOADHWIVECSEG = prog.get("L0SARAM");
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!
prog.gen();

